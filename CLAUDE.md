# CLAUDE.md — LynxPoker Marketing Website

## Project Overview

Marketing website for **LynxPoker** — a B2B SaaS poker tournament management platform. The site targets poker club owners, home game organizers, and festival directors.

**Live**: https://adamshriki.github.io/lynxpoker-website/
**Repo**: https://github.com/adamshriki/lynxpoker-website

## Stack

- **Framework**: Next.js 16 (Turbopack, App Router)
- **Styling**: Tailwind CSS v4 (CSS-based `@theme inline` config in `globals.css`, NOT `tailwind.config.ts`)
- **Animations**: Framer Motion
- **i18n**: next-intl with `[locale]` folder structure (EN default, HE with RTL)
- **Translation**: lingo.dev CLI with JSONC files (comments guide AI translation)
- **Fonts**: Lato (Latin) + Rubik (Hebrew) via `next/font/google`
- **Deployment**: GitHub Pages (static export)
- **Design System**: Tokens from `lynx-design-system` repo

## Key Architecture Decisions

### Tailwind v4
All theme tokens live in `src/app/globals.css` using `@theme inline` block and CSS custom properties. Tailwind v4 ignores `tailwind.config.ts`. Custom colors use semantic names: `--primary`, `--text-primary`, `--surface-primary`, `--border-primary`, etc.

### Static Export
`output: "export"` in `next.config.ts`. No server components, no middleware, no API routes. `basePath` and `assetPrefix` set conditionally via `GITHUB_ACTIONS` env var for GitHub Pages.

### i18n with JSONC
- Source of truth: `messages/en/*.jsonc` (English with `//` comments for translation guidance)
- Translations: `messages/he/*.jsonc` (generated by lingo.dev)
- Loader: `src/lib/load-messages.ts` merges all JSONC files into one object for next-intl
- Never edit `messages/he/` files directly — they're auto-generated

### Blog System
- Post registry: `src/lib/blog-data.ts` (slugs, categories, emoji, dates — no translations)
- Post metadata: `messages/[locale]/blog-index.jsonc`
- Post content: `messages/[locale]/blog-{slug}.jsonc` (structured content blocks)
- Content blocks: `paragraph`, `heading`, `heading_h3`, `list`, `quote`, `callout`, `comparison_table`, `divider`

## File Structure

```
messages/
  en/                          # English source (edit these)
    ui.jsonc                   # UI strings with translation comments
    blog-index.jsonc           # Blog post metadata
    blog-{slug}.jsonc          # Blog post content
  he/                          # Hebrew (auto-generated by lingo.dev)
    ...
src/
  app/[locale]/                # Locale-routed pages
    page.tsx                   # Homepage
    blog/page.tsx              # Blog index
    blog/[slug]/page.tsx       # Blog post (thin wrapper for generateStaticParams)
    terms/page.tsx             # Terms of Service
    privacy/page.tsx           # Privacy Policy
  components/
    blog/BlogPostPage.tsx      # Blog post client component
    hero/LiveClock.tsx         # Animated tournament clock demo
    sections/CompetitorComparison.tsx
    ui/button.tsx
  i18n/
    config.ts                  # Locale list, directions
    request.ts                 # next-intl config (uses loadMessages)
  lib/
    blog-data.ts               # Blog post registry (no translations)
    load-messages.ts           # JSONC file merger for next-intl
    utils.ts
public/
  logo.svg                     # LynxPoker logo
  legal/                       # Terms & Privacy markdown source
```

## Common Tasks

### Add a new blog post
1. Add slug/category/emoji/date to `src/lib/blog-data.ts`
2. Add metadata to `messages/en/blog-index.jsonc`
3. Create `messages/en/blog-{slug}.jsonc` with content blocks
4. Run lingo.dev to generate Hebrew translation
5. Build and push

### Run lingo.dev translation
```powershell
$env:LINGODOTDEV_API_KEY="api_o7znlnu9bcmqmxgi962ofqza"
node "C:\Users\memph\AppData\Roaming\npm\node_modules\lingo.dev\bin\cli.mjs" run
# Use --force to retranslate everything
```

### Build and deploy
```powershell
npx next build                    # Local build test
git add -A; git commit -m "MSG"
$env:GIT_TERMINAL_PROMPT="0"; git -c credential.helper="" push 2>&1
# GitHub Actions deploys automatically on push to main
```

### Add a new language
1. Add locale to `src/i18n/config.ts` (locales array, localeNames, localeDirections)
2. Add locale to `i18n.json` → `locale.targets`
3. Run lingo.dev → generates `messages/{locale}/` directory
4. Update layout.tsx if the language needs a specific font

## Design Guidelines

### Foundation: Lynx Design System
Always use the **Lynx Design System** (`lynx-design-system` repo) as the base UI library. All components, tokens, and patterns should start from this design system. However, you CAN and SHOULD extend beyond it with additional creative design elements to achieve the best possible result. The design system provides the foundation; your creativity builds the experience on top.

### Frontend Aesthetics Prompt (DISTILLED_AESTHETICS_PROMPT)
```
<frontend_aesthetics>
You tend to converge toward generic, "on distribution" outputs. In frontend design, this creates
what users call the "AI slop" aesthetic. Avoid this: make creative, distinctive frontends that
surprise and delight. Focus on:

Typography: Choose fonts that are beautiful, unique, and interesting. Avoid generic fonts like
Arial and Inter; opt instead for distinctive choices that elevate the frontend's aesthetics.

Color & Theme: Commit to a cohesive aesthetic. Use CSS variables for consistency. Dominant colors
with sharp accents outperform timid, evenly-distributed palettes. Draw from IDE themes and
cultural aesthetics for inspiration.

Motion: Use animations for effects and micro-interactions. Prioritize CSS-only solutions for HTML.
Use Motion library for React when available. Focus on high-impact moments: one well-orchestrated
page load with staggered reveals (animation-delay) creates more delight than scattered
micro-interactions.

Backgrounds: Create atmosphere and depth rather than defaulting to solid colors. Layer CSS
gradients, use geometric patterns, or add contextual effects that match the overall aesthetic.

Avoid generic AI-generated aesthetics:
- Overused font families (Inter, Roboto, Arial, system fonts)
- Clichéd color schemes (particularly purple gradients on white backgrounds)
- Predictable layouts and component patterns
- Cookie-cutter design that lacks context-specific character

Interpret creatively and make unexpected choices that feel genuinely designed for the context.
Vary between light and dark themes, different fonts, different aesthetics. You still tend to
converge on common choices (Space Grotesk, for example) across generations. Avoid this: it is
critical that you think outside the box!
</frontend_aesthetics>
```

### Applied Design Direction
- **Theme**: Dark with poker aesthetic — not generic dark mode, but atmospheric and immersive
- **Primary color**: Amber/gold (`--primary: #f59e0b`) — use as a sharp dominant accent, not evenly distributed
- **Typography**: Lato for Latin, Rubik for Hebrew — these are the design system fonts, keep them but use them expressively (varied weights, sizes, letter-spacing)
- **Backgrounds**: Layered gradients, geometric patterns, atmospheric depth — never flat solid colors
- **Animations**: Orchestrated page load with staggered reveals using Framer Motion. High-impact entrance animations. Micro-interactions on hover/focus states.
- **RTL**: Full support. Use logical properties (`ms-`, `me-`, `ps-`, `pe-`, `start`, `end`)
- **Logo**: Always use `/logo.svg` with `process.env.NEXT_PUBLIC_BASE_PATH` prefix for static export
- **Distinctive character**: This is a poker product — lean into that world. Card suits, felt textures, chip stacks, table aesthetics. Make it feel like you're stepping into a premium poker room, not browsing a generic SaaS landing page.

## Gotchas

- `git push` stderr output looks like an error in PowerShell but push succeeds — git writes progress to stderr
- For `<img>` tags, Next.js does NOT auto-prepend basePath — always use `${process.env.NEXT_PUBLIC_BASE_PATH || ""}/path`
- next-intl middleware is incompatible with static export — removed, root redirect handled in CI
- The `comparison_table` block type uses `headers` and `rows` arrays (not `tableData`)
- Blog post `"Previous"/"Next"` labels are hardcoded (not in message files yet)

## Company Info

- **Company**: Adam Shriki LTD (Israel)
- **Product**: LynxPoker (lynx.poker)
- **Legal jurisdiction**: Tel Aviv-Jaffa, Israel
- **Contact**: adam@lynx.poker
